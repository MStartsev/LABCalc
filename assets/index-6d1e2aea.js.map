{"version":3,"file":"index-6d1e2aea.js","sources":["../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../node_modules/react-dom/client.js","../../src/components/PitCard/PitCard.jsx","../../src/components/Calculator/Calculator.jsx","../../src/components/EditModal/EditModal.jsx","../../src/components/SelectMode/SelectMode.jsx","../../src/hooks/useApi.js","../../src/utils/calculations.js","../../src/utils/constants.js","../../src/App.jsx","../../src/main.jsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","import styles from \"./PitCard.module.css\";\n\nconst PitCard = ({ pit, isSelected, onSelect, onEdit, mode = \"view\" }) => {\n  const getPitColor = () => {\n    if (!pit.W || !pit.K–ª || pit.—Å–∏–ª–æ—Å === null) return \"var(--color-empty)\";\n\n    if (pit.—Å–∏–ª–æ—Å === 1) return \"var(--color-silo-1)\";\n    if (pit.—Å–∏–ª–æ—Å === 2) return \"var(--color-silo-2)\";\n    if (pit.—Å–∏–ª–æ—Å === 3) {\n      return parseFloat(pit.K–ª) > 23\n        ? \"var(--color-silo-3-high)\"\n        : \"var(--color-silo-3-low)\";\n    }\n    return \"var(--color-empty)\";\n  };\n\n  const formatValue = (value, unit = \"\") => {\n    if (value === null || value === undefined || value === \"\") return \"-\";\n    return `${value}${unit}`;\n  };\n\n  const handleClick = () => {\n    if (mode === \"select\") {\n      // –í —Ä–µ–∂–∏–º—ñ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –º–æ–∂–Ω–∞ –∫–ª—ñ–∫–Ω—É—Ç–∏ –Ω–∞ –±—É–¥—å-—è–∫—É —è–º—É\n      onEdit(pit);\n    } else if (mode === \"view\") {\n      // –í —Ä–µ–∂–∏–º—ñ –ø–µ—Ä–µ–≥–ª—è–¥—É –º–æ–∂–Ω–∞ –≤–∏–±—Ä–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ –∑–∞–ø–æ–≤–Ω–µ–Ω—ñ —è–º–∏\n      if (pit.W && pit.K–ª && pit.—Å–∏–ª–æ—Å !== null) {\n        onSelect(pit);\n      }\n    }\n  };\n\n  const handleCheckboxChange = (e) => {\n    e.stopPropagation();\n    // Checkbox —Ç—ñ–ª—å–∫–∏ –¥–ª—è –∑–∞–ø–æ–≤–Ω–µ–Ω–∏—Ö —è–º\n    if (pit.W && pit.K–ª && pit.—Å–∏–ª–æ—Å !== null) {\n      onSelect(pit);\n    }\n  };\n\n  return (\n    <div\n      className={`${styles.pitCard} ${isSelected ? styles.selected : \"\"} ${\n        !pit.W || !pit.K–ª || pit.—Å–∏–ª–æ—Å === null ? styles.empty : \"\"\n      }`}\n      style={{ backgroundColor: getPitColor() }}\n      onClick={handleClick}\n    >\n      <div className={styles.pitHeader}>\n        <span className={styles.pitNumber}>{pit.id}</span>\n        <span className={styles.pitDate}>{pit.–¥–∞—Ç–∞}</span>\n        {mode === \"view\" && (\n          <input\n            type=\"checkbox\"\n            checked={isSelected}\n            onChange={handleCheckboxChange}\n            disabled={!pit.W || !pit.K–ª || pit.—Å–∏–ª–æ—Å === null}\n            className={styles.checkbox}\n          />\n        )}\n      </div>\n\n      <div className={styles.pitContent}>\n        <div className={styles.pitRow}>W = {formatValue(pit.W, \"%\")}</div>\n        <div className={styles.pitRow}>–ß–ü = {formatValue(pit.–ß–ü, \"—Å\")}</div>\n        <div className={styles.pitRow}>\n          K–ª = {formatValue(pit.K–ª, \"%\")} - {formatValue(pit.–í–î–ö, \"–æ–¥.\")}\n        </div>\n        <div className={styles.pitRow}>m = {formatValue(pit.m, \"—Ç\")}</div>\n      </div>\n\n      {pit.—Å–∏–ª–æ—Å && <div className={styles.pitCorner}>{pit.—Å–∏–ª–æ—Å}—Å</div>}\n    </div>\n  );\n};\n\nexport default PitCard;\n","import React, { useState, useEffect } from \"react\";\nimport PitCard from \"../PitCard/PitCard\";\nimport styles from \"./Calculator.module.css\";\n\nconst Calculator = ({ selectedPits, onBack, allPits, onPitSelect }) => {\n  // –û—Å–Ω–æ–≤–Ω—ñ —Å—Ç–∞–Ω–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞\n  const [targetGluten, setTargetGluten] = useState(null); // –¶—ñ–ª—å–æ–≤–∞ –∫–ª–µ–π–∫–æ–≤–∏–Ω–∞\n  const [percentages, setPercentages] = useState({}); // –í—ñ–¥—Å–æ—Ç–∫–∏ —è–º {id: percentage}\n  const [mixData, setMixData] = useState({}); // –î–∞–Ω—ñ —Ä–µ–∑—É–ª—å—Ç—É—é—á–æ—ó —Å—É–º—ñ—à—ñ\n  const [isAutoMode, setIsAutoMode] = useState(true); // true = –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π, false = —Ä—É—á–Ω–∏–π —Ä–µ–∂–∏–º\n  const [savedTargetGluten, setSavedTargetGluten] = useState(null); // –ó–±–µ—Ä–µ–∂–µ–Ω–∞ —Ü—ñ–ª—å–æ–≤–∞ –∫–ª–µ–π–∫–æ–≤–∏–Ω–∞\n\n  // –°—Ç–∞–Ω–∏ –¥–ª—è —Ñ—ñ–ª—å—Ç—Ä—ñ–≤ —Ç–∞ –æ–ø—Ü—ñ–π –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è\n  const [componentFilter, setComponentFilter] = useState(\"best\"); // –§—ñ–ª—å—Ç—Ä –ø–æ –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤\n  const [showTopResults, setShowTopResults] = useState(false); // –ü–æ–∫–∞–∑—É–≤–∞—Ç–∏ —Ç–æ–ø 5 —á–∏ –Ω–∞–π–∫—Ä–∞—â–∏–π\n  const [topResults, setTopResults] = useState([]); // –ú–∞—Å–∏–≤ —Ç–æ–ø —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤\n\n  useEffect(() => {\n    const savedGluten = localStorage.getItem(\"labcalc_target_gluten\");\n    if (savedGluten) {\n      const value = parseFloat(savedGluten);\n      if (!isNaN(value)) {\n        setSavedTargetGluten(value);\n      }\n    }\n  }, []);\n\n  // –ï—Ñ–µ–∫—Ç —â–æ —Å–ø—Ä–∞—Ü—å–æ–≤—É—î –ø—Ä–∏ –∑–º—ñ–Ω—ñ –≤–∏–±—Ä–∞–Ω–∏—Ö —è–º –∞–±–æ —Ä–µ–∂–∏–º—É\n  useEffect(() => {\n    if (selectedPits.length === 1) {\n      // –û–¥–Ω–∞ —è–º–∞ - –∑–∞–≤–∂–¥–∏ 100%\n      setPercentages({ [selectedPits[0].id]: 100 });\n      setMixData(selectedPits[0]);\n      setTargetGluten(parseFloat(selectedPits[0].K–ª));\n      setTopResults([]);\n    } else if (selectedPits.length >= 2) {\n      if (selectedPits.length === 0 && savedTargetGluten && !targetGluten) {\n        setTargetGluten(savedTargetGluten);\n      }\n      if (isAutoMode) {\n        initializeAutoMode();\n      } else {\n        initializeManualMode();\n      }\n    }\n  }, [selectedPits, isAutoMode, componentFilter, savedTargetGluten]);\n\n  // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º—É\n  const initializeAutoMode = () => {\n    const glutenValues = selectedPits\n      .map((pit) => parseFloat(pit.K–ª))\n      .filter((v) => !isNaN(v));\n\n    const minGluten = Math.min(...glutenValues);\n    const maxGluten = Math.max(...glutenValues);\n\n    // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –∑–±–µ—Ä–µ–∂–µ–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è –∫–ª–µ–π–∫–æ–≤–∏–Ω–∏ –∞–±–æ —Å–µ—Ä–µ–¥–Ω—î –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–Ω–µ\n    const targetValue =\n      savedTargetGluten ||\n      (glutenValues.length > 0 ? (minGluten + maxGluten) / 2 : 22.0);\n\n    setTargetGluten(Math.round(targetValue * 10) / 10);\n\n    // –ó–∞–ø—É—Å–∫–∞—î–º–æ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—é\n    const results = optimizeForTargetGluten(targetValue, selectedPits);\n\n    if (\n      showTopResults &&\n      results.alternatives &&\n      results.alternatives.length > 0\n    ) {\n      // –†–µ–∂–∏–º —Ç–æ–ø 5 - –∑–±–µ—Ä—ñ–≥–∞—î–º–æ –≤—Å—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏\n      setTopResults(results.alternatives);\n      setPercentages(results.alternatives[0].percentages);\n      setMixData(results.alternatives[0].mixData);\n    } else {\n      // –†–µ–∂–∏–º –Ω–∞–π–∫—Ä–∞—â–æ–≥–æ - –ø–æ–∫–∞–∑—É—î–º–æ —Ç—ñ–ª—å–∫–∏ –æ–¥–∏–Ω –≤–∞—Ä—ñ–∞–Ω—Ç\n      setPercentages(results.percentages || results);\n      calculateMixFromPercentages(results.percentages || results);\n      setTopResults([]);\n    }\n  };\n\n  // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ä—É—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º—É\n  const initializeManualMode = () => {\n    // –†—ñ–≤–Ω–æ–º—ñ—Ä–Ω–∏–π —Ä–æ–∑–ø–æ–¥—ñ–ª –¥–ª—è –ø–æ—á–∞—Ç–∫–æ–≤–æ–≥–æ —Å—Ç–∞–Ω—É\n    const initialPercentages = {};\n    const equalShare = Math.floor(100 / selectedPits.length / 10) * 10;\n    let remaining = 100;\n\n    selectedPits.forEach((pit, index) => {\n      if (index === selectedPits.length - 1) {\n        // –û—Å—Ç–∞–Ω–Ω—è —è–º–∞ –æ—Ç—Ä–∏–º—É—î –∑–∞–ª–∏—à–æ–∫\n        initialPercentages[pit.id] = Math.max(0, remaining);\n      } else {\n        const share = Math.max(0, equalShare);\n        initialPercentages[pit.id] = share;\n        remaining -= share;\n      }\n    });\n\n    setPercentages(initialPercentages);\n    calculateMixFromPercentages(initialPercentages);\n    updateTargetFromPercentages(initialPercentages);\n  };\n\n  // –û—Å–Ω–æ–≤–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó —Å—É–º—ñ—à—ñ\n  const optimizeForTargetGluten = (targetGluten, pits) => {\n    if (pits.length < 2) return {};\n\n    const TARGET_FALLING_NUMBER = 350; // –¶—ñ–ª—å–æ–≤–µ —á–∏—Å–ª–æ –ø–∞–¥—ñ–Ω–Ω—è\n\n    // –î–ª—è 2 —è–º - –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–æ —Ç–æ—á–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è\n    if (pits.length === 2) {\n      const [pit1, pit2] = pits;\n      const g1 = parseFloat(pit1.K–ª);\n      const g2 = parseFloat(pit2.K–ª);\n\n      if (Math.abs(g1 - g2) < 0.01) {\n        // –û–¥–Ω–∞–∫–æ–≤–∞ –∫–ª–µ–π–∫–æ–≤–∏–Ω–∞ - 50/50\n        return { [pit1.id]: 50, [pit2.id]: 50 };\n      }\n\n      // –§–æ—Ä–º—É–ª–∞ –¥–ª—è 2 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤: p1 = (target - g2) / (g1 - g2)\n      const p1 = ((targetGluten - g2) / (g1 - g2)) * 100;\n      const p2 = 100 - p1;\n\n      return {\n        [pit1.id]: Math.max(0, Math.min(100, Math.round(p1 / 10) * 10)),\n        [pit2.id]: Math.max(0, Math.min(100, Math.round(p2 / 10) * 10)),\n      };\n    }\n\n    // –î–ª—è 3+ —è–º - –ø–æ–≤–Ω–∏–π –ø–µ—Ä–µ–±—ñ—Ä –∑ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—î—é\n    console.log(\n      `–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –¥–ª—è —Ü—ñ–ª—å–æ–≤–æ—ó –∫–ª–µ–π–∫–æ–≤–∏–Ω–∏: ${targetGluten}%, —Ü—ñ–ª—å–æ–≤–µ —á–∏—Å–ª–æ –ø–∞–¥—ñ–Ω–Ω—è: ${TARGET_FALLING_NUMBER}—Å`\n    );\n    console.log(`–§—ñ–ª—å—Ç—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤: ${componentFilter}`);\n    console.log(\n      \"–Ø–º–∏:\",\n      pits.map((p) => `${p.id}(K–ª:${p.K–ª}%, –ß–ü:${p.–ß–ü}—Å)`)\n    );\n\n    let bestCombinations = [];\n    let bestGlutenError = Infinity;\n\n    // –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –ø—ñ–¥—Ä–∞—Ö—É–Ω–∫—É –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –∞–∫—Ç–∏–≤–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤\n    const getComponentCount = (percentages) => {\n      return Object.values(percentages).filter((p) => p > 0).length;\n    };\n\n    // –§—É–Ω–∫—Ü—ñ—è —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó –ø–æ –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤\n    const passesComponentFilter = (percentages) => {\n      const componentCount = getComponentCount(percentages);\n\n      switch (componentFilter) {\n        case \"2-comp\":\n          return componentCount === 2;\n        case \"3-comp\":\n          return componentCount === 3;\n        case \"multi-comp\":\n          return componentCount >= 4;\n        case \"best\":\n        default:\n          return true; // –ë–µ–∑ —Ñ—ñ–ª—å—Ç—Ä–∞\n      }\n    };\n\n    // –†–µ–∫—É—Ä—Å–∏–≤–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –≤—Å—ñ—Ö –º–æ–∂–ª–∏–≤–∏—Ö –∫–æ–º–±—ñ–Ω–∞—Ü—ñ–π\n    const generateAllCombinations = (\n      pitIndex,\n      currentPercentages,\n      remainingPerc\n    ) => {\n      if (pitIndex >= pits.length) {\n        // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —Ñ—ñ–Ω–∞–ª—å–Ω—É –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—é\n        if (remainingPerc === 0) {\n          // –ó–∞—Å—Ç–æ—Å–æ–≤—É—î–º–æ —Ñ—ñ–ª—å—Ç—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤\n          if (!passesComponentFilter(currentPercentages)) return;\n\n          // –ú—ñ–Ω—ñ–º—É–º 2 —è–º–∏ –ø–æ–≤–∏–Ω–Ω—ñ –±—Ä–∞—Ç–∏ —É—á–∞—Å—Ç—å\n          const nonZeroCount = getComponentCount(currentPercentages);\n          if (nonZeroCount < 2) return;\n\n          // –û–±—á–∏—Å–ª—é—î–º–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Å—É–º—ñ—à—ñ\n          let mixW = 0,\n            mix–ß–ü = 0,\n            mixGluten = 0,\n            mix–í–î–ö = 0,\n            mixM = Infinity;\n          let totalWeight = 0;\n\n          pits.forEach((pit) => {\n            const perc = currentPercentages[pit.id];\n            if (perc > 0) {\n              const weight = perc / 100;\n              mixW += parseFloat(pit.W || 0) * weight;\n              mix–ß–ü += parseFloat(pit.–ß–ü || 0) * weight;\n              mixGluten += parseFloat(pit.K–ª || 0) * weight;\n              mix–í–î–ö += parseFloat(pit.–í–î–ö || 0) * weight;\n\n              // –û–±—á–∏—Å–ª—é—î–º–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É –º–∞—Å—É —Å—É–º—ñ—à—ñ (–æ–±–º–µ–∂–µ–Ω–∞ –Ω–∞–π–º–µ–Ω—à–æ—é —è–º–æ—é)\n              const maxFromPit = parseFloat(pit.m || 0) / weight;\n              if (maxFromPit > 0) {\n                mixM = Math.min(mixM, maxFromPit);\n              }\n\n              totalWeight += weight;\n            }\n          });\n\n          if (totalWeight === 0) return;\n\n          // –ù–æ—Ä–º–∞–ª—ñ–∑—É—î–º–æ –¥–æ –∑–≤–∞–∂–µ–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–Ω—å–æ–≥–æ\n          mixW = mixW / totalWeight;\n          mix–ß–ü = mix–ß–ü / totalWeight;\n          mixGluten = mixGluten / totalWeight;\n          mix–í–î–ö = mix–í–î–ö / totalWeight;\n\n          // –û–±—á–∏—Å–ª—é—î–º–æ –ø–æ–º–∏–ª–∫–∏\n          const glutenError = Math.abs(mixGluten - targetGluten);\n          const fallingNumberError = Math.abs(mix–ß–ü - TARGET_FALLING_NUMBER);\n\n          // –§–æ—Ä–º—É—î–º–æ –æ–±'—î–∫—Ç –¥–∞–Ω–∏—Ö —Å—É–º—ñ—à—ñ\n          const mixDataObj = {\n            W: Math.round(mixW * 10) / 10,\n            –ß–ü: Math.round(mix–ß–ü),\n            K–ª: Math.round(mixGluten * 10) / 10,\n            –í–î–ö: Math.round(mix–í–î–ö),\n            m: mixM === Infinity ? 0 : Math.round(mixM * 10) / 10,\n          };\n\n          // –Ø–∫—â–æ –ø–æ–º–∏–ª–∫–∞ –∫–ª–µ–π–∫–æ–≤–∏–Ω–∏ –∫—Ä–∞—â–∞ - –ø–æ—á–∏–Ω–∞—î–º–æ –Ω–æ–≤–∏–π —Å–ø–∏—Å–æ–∫\n          if (glutenError < bestGlutenError - 0.049) {\n            bestGlutenError = glutenError;\n            bestCombinations = [\n              {\n                percentages: { ...currentPercentages },\n                glutenError: glutenError,\n                fallingNumberError: fallingNumberError,\n                mixGluten: mixGluten,\n                mixFallingNumber: mix–ß–ü,\n                mixData: mixDataObj,\n                componentCount: nonZeroCount,\n              },\n            ];\n          }\n          // –Ø–∫—â–æ –ø–æ–º–∏–ª–∫–∞ –∫–ª–µ–π–∫–æ–≤–∏–Ω–∏ –ø—Ä–∏–±–ª–∏–∑–Ω–æ —Ç–∞–∫–∞ –∂ - –¥–æ–¥–∞—î–º–æ –¥–æ —Å–ø–∏—Å–∫—É\n          else if (Math.abs(glutenError - bestGlutenError) <= 0.049) {\n            bestCombinations.push({\n              percentages: { ...currentPercentages },\n              glutenError: glutenError,\n              fallingNumberError: fallingNumberError,\n              mixGluten: mixGluten,\n              mixFallingNumber: mix–ß–ü,\n              mixData: mixDataObj,\n              componentCount: nonZeroCount,\n            });\n          }\n        }\n        return;\n      }\n\n      const currentPit = pits[pitIndex];\n\n      // –î–ª—è –ø–æ—Ç–æ—á–Ω–æ—ó —è–º–∏ –ø—Ä–æ–±—É—î–º–æ –≤—Å—ñ –º–æ–∂–ª–∏–≤—ñ –≤—ñ–¥—Å–æ—Ç–∫–∏ –≤—ñ–¥ 0 –¥–æ 100 –∑ –∫—Ä–æ–∫–æ–º 10\n      for (let perc = 0; perc <= Math.min(100, remainingPerc); perc += 10) {\n        currentPercentages[currentPit.id] = perc;\n        generateAllCombinations(\n          pitIndex + 1,\n          currentPercentages,\n          remainingPerc - perc\n        );\n      }\n    };\n\n    // –ó–∞–ø—É—Å–∫–∞—î–º–æ –ø–æ–≤–Ω–∏–π –ø–µ—Ä–µ–±—ñ—Ä\n    console.log(\"–ü–æ—á–∞—Ç–æ–∫ –ø–æ–≤–Ω–æ–≥–æ –ø–µ—Ä–µ–±–æ—Ä—É –∫–æ–º–±—ñ–Ω–∞—Ü—ñ–π...\");\n    const startTime = Date.now();\n    generateAllCombinations(0, {}, 100);\n    const endTime = Date.now();\n    console.log(`–ü–µ—Ä–µ–±—ñ—Ä –∑–∞–≤–µ—Ä—à–µ–Ω–æ –∑–∞ ${endTime - startTime}–º—Å`);\n\n    // –û–±—Ä–æ–±–ª—è—î–º–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏\n    if (bestCombinations.length === 0) {\n      console.log(\n        \"–ù–µ –∑–Ω–∞–π–¥–µ–Ω–æ –≤–∞–ª—ñ–¥–Ω–∏—Ö –∫–æ–º–±—ñ–Ω–∞—Ü—ñ–π, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –∑–∞–ø–∞—Å–Ω–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç\"\n      );\n      return {\n        percentages: pits.reduce((acc, pit, index) => {\n          acc[pit.id] = index === 0 ? 100 : 0;\n          return acc;\n        }, {}),\n      };\n    }\n\n    // –°–æ—Ä—Ç—É—î–º–æ –ø–æ –ø–æ–º–∏–ª—Ü—ñ —á–∏—Å–ª–∞ –ø–∞–¥—ñ–Ω–Ω—è\n    bestCombinations.sort(\n      (a, b) => a.fallingNumberError - b.fallingNumberError\n    );\n\n    console.log(\n      `–ó–Ω–∞–π–¥–µ–Ω–æ ${\n        bestCombinations.length\n      } –∫–æ–º–±—ñ–Ω–∞—Ü—ñ–π –∑ –ø–æ–º–∏–ª–∫–æ—é –∫–ª–µ–π–∫–æ–≤–∏–Ω–∏ ‚â§ ${bestGlutenError.toFixed(3)}`\n    );\n\n    // –Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–æ–∫–∞–∑–∞—Ç–∏ —Ç–æ–ø —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏\n    if (showTopResults) {\n      const top5 = bestCombinations.slice(0, 5);\n      console.log(\"–¢–æ–ø 5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤:\");\n      top5.forEach((combo, index) => {\n        console.log(\n          `${index + 1}. ${\n            combo.componentCount\n          }-–∫–æ–º–ø: K–ª:${combo.mixGluten.toFixed(\n            1\n          )}% –ß–ü:${combo.mixFallingNumber.toFixed(0)}—Å W:${\n            combo.mixData.W\n          }% m:${combo.mixData.m}—Ç`\n        );\n        console.log(`   –í—ñ–¥—Å–æ—Ç–∫–∏: ${JSON.stringify(combo.percentages)}`);\n      });\n\n      return {\n        percentages: top5[0].percentages,\n        alternatives: top5,\n      };\n    } else {\n      const bestCombo = bestCombinations[0];\n      console.log(\"–û–±—Ä–∞–Ω–∞ –Ω–∞–π–∫—Ä–∞—â–∞ –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—è:\");\n      console.log(`  ${bestCombo.componentCount}-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞ —Å—É–º—ñ—à`);\n      console.log(\n        `  –ö–ª–µ–π–∫–æ–≤–∏–Ω–∞: ${bestCombo.mixGluten.toFixed(\n          1\n        )}% (–ø–æ–º–∏–ª–∫–∞: ${bestCombo.glutenError.toFixed(3)})`\n      );\n      console.log(\n        `  –ß–∏—Å–ª–æ –ø–∞–¥—ñ–Ω–Ω—è: ${bestCombo.mixFallingNumber.toFixed(\n          0\n        )}—Å (–ø–æ–º–∏–ª–∫–∞: ${bestCombo.fallingNumberError.toFixed(1)})`\n      );\n      console.log(`  –ü–æ–≤–Ω—ñ –¥–∞–Ω—ñ —Å—É–º—ñ—à—ñ:`, bestCombo.mixData);\n      console.log(`  –í—ñ–¥—Å–æ—Ç–∫–∏:`, bestCombo.percentages);\n\n      return {\n        percentages: bestCombo.percentages,\n      };\n    }\n  };\n\n  // –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ —Å—É–º—ñ—à—ñ –∑ –≤—ñ–¥—Å–æ—Ç–∫—ñ–≤\n  const calculateMixFromPercentages = (percs) => {\n    const totalPerc = Object.values(percs).reduce(\n      (sum, p) => sum + (p || 0),\n      0\n    );\n    if (totalPerc === 0) return;\n\n    let mixW = 0,\n      mix–ß–ü = 0,\n      mixK–ª = 0,\n      mix–í–î–ö = 0,\n      maxMass = Infinity;\n\n    selectedPits.forEach((pit) => {\n      const perc = percs[pit.id] || 0;\n      if (perc > 0) {\n        const factor = perc / 100;\n        mixW += parseFloat(pit.W || 0) * factor;\n        mix–ß–ü += parseFloat(pit.–ß–ü || 0) * factor;\n        mixK–ª += parseFloat(pit.K–ª || 0) * factor;\n        mix–í–î–ö += parseFloat(pit.–í–î–ö || 0) * factor;\n\n        const maxFromPit = parseFloat(pit.m || 0) / factor;\n        if (maxFromPit > 0) {\n          maxMass = Math.min(maxMass, maxFromPit);\n        }\n      }\n    });\n\n    setMixData({\n      W: Math.round(mixW * 10) / 10,\n      –ß–ü: Math.round(mix–ß–ü),\n      K–ª: Math.round(mixK–ª * 10) / 10,\n      –í–î–ö: Math.round(mix–í–î–ö),\n      m: maxMass === Infinity ? 0 : Math.round(maxMass * 10) / 10,\n    });\n  };\n\n  // –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Ü—ñ–ª—å–æ–≤–æ—ó –∫–ª–µ–π–∫–æ–≤–∏–Ω–∏ –∑ –ø–æ—Ç–æ—á–Ω–∏—Ö –≤—ñ–¥—Å–æ—Ç–∫—ñ–≤ (–¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º—É)\n  const updateTargetFromPercentages = (percs) => {\n    let mixGluten = 0;\n    let totalPerc = 0;\n\n    selectedPits.forEach((pit) => {\n      const perc = percs[pit.id] || 0;\n      if (perc > 0) {\n        mixGluten += parseFloat(pit.K–ª || 0) * (perc / 100);\n        totalPerc += perc / 100;\n      }\n    });\n\n    if (totalPerc > 0) {\n      const calculatedGluten = mixGluten / totalPerc;\n      setTargetGluten(Math.round(calculatedGluten * 10) / 10);\n    }\n  };\n\n  // –ó–º—ñ–Ω–∞ —Ü—ñ–ª—å–æ–≤–æ—ó –∫–ª–µ–π–∫–æ–≤–∏–Ω–∏ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Ä–µ–∂–∏–º)\n  const adjustGluten = (delta) => {\n    if (selectedPits.length < 2) return;\n\n    const glutenValues = selectedPits.map((pit) => parseFloat(pit.K–ª));\n    const minGluten = Math.min(...glutenValues);\n    const maxGluten = Math.max(...glutenValues);\n\n    const newTarget = targetGluten + delta;\n    const roundedTarget = Math.round(newTarget * 10) / 10;\n\n    setTargetGluten(roundedTarget);\n    setSavedTargetGluten(roundedTarget); // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –ª–æ–∫–∞–ª—å–Ω–æ\n    localStorage.setItem(\"labcalc_target_gluten\", roundedTarget.toString());\n\n    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ—Ä–∞—Ö–æ–≤—É—î–º–æ –≤—ñ–¥—Å–æ—Ç–∫–∏ –ø—ñ–¥ –Ω–æ–≤—É —Ü—ñ–ª—å\n    const results = optimizeForTargetGluten(roundedTarget, selectedPits);\n\n    if (\n      showTopResults &&\n      results.alternatives &&\n      results.alternatives.length > 0\n    ) {\n      setTopResults(results.alternatives);\n      setPercentages(results.alternatives[0].percentages);\n      setMixData(results.alternatives[0].mixData);\n    } else {\n      setPercentages(results.percentages || results);\n      calculateMixFromPercentages(results.percentages || results);\n    }\n  };\n\n  // –ó–º—ñ–Ω–∞ –≤—ñ–¥—Å–æ—Ç–∫–∞ —è–º–∏ (—Ä—É—á–Ω–∏–π —Ä–µ–∂–∏–º)\n  const adjustPercentageManual = (pitId, delta) => {\n    const newPercentages = { ...percentages };\n    const currentPerc = newPercentages[pitId] || 0;\n\n    // –ö—Ä–∞—Ç–Ω—ñ—Å—Ç—å 10%, –¥—ñ–∞–ø–∞–∑–æ–Ω 0-100%\n    let newPerc = currentPerc + delta;\n    newPerc = Math.max(0, Math.min(100, Math.round(newPerc / 10) * 10));\n\n    newPercentages[pitId] = newPerc;\n\n    setPercentages(newPercentages);\n    calculateMixFromPercentages(newPercentages);\n    updateTargetFromPercentages(newPercentages);\n  };\n\n  // –ü–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –º—ñ–∂ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º —Ç–∞ —Ä—É—á–Ω–∏–º —Ä–µ–∂–∏–º–∞–º–∏\n  const toggleMode = () => {\n    setIsAutoMode(!isAutoMode);\n  };\n\n  // –§—É–Ω–∫—Ü—ñ—ó –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –º–µ–∂ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Ä–µ–∂–∏–º)\n  const canDecreaseGluten = () => {\n    return isAutoMode && selectedPits.length >= 2;\n  };\n\n  const canIncreaseGluten = () => {\n    return isAutoMode && selectedPits.length >= 2;\n  };\n\n  // –§—É–Ω–∫—Ü—ñ—ó –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –º–µ–∂ (—Ä—É—á–Ω–∏–π —Ä–µ–∂–∏–º)\n  const canDecreasePit = (pitId) => {\n    return !isAutoMode && (percentages[pitId] || 0) > 0;\n  };\n\n  const canIncreasePit = (pitId) => {\n    return !isAutoMode && (percentages[pitId] || 0) < 100;\n  };\n\n  // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞ –ø–µ—Ä–µ–≤–∏—â–µ–Ω–Ω—è 100% –≤ —Ä—É—á–Ω–æ–º—É —Ä–µ–∂–∏–º—ñ\n  const getTotalPercentage = () => {\n    return Object.values(percentages).reduce((sum, p) => sum + (p || 0), 0);\n  };\n\n  const isOverLimit = () => {\n    return (\n      (!isAutoMode && getTotalPercentage() > 100) ||\n      (!isAutoMode && getTotalPercentage() < 100)\n    );\n  };\n\n  // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤—ñ–¥—Ö–∏–ª–µ–Ω–Ω—è –∫–ª–µ–π–∫–æ–≤–∏–Ω–∏ –≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–º—É —Ä–µ–∂–∏–º—ñ\n  const getGlutenError = () => {\n    if (!mixData.K–ª || !targetGluten) return 0;\n    return Math.abs(mixData.K–ª - targetGluten);\n  };\n\n  const isGlutenErrorHigh = () => {\n    return isAutoMode && getGlutenError() > 0.5;\n  };\n\n  // –û—Å–Ω–æ–≤–Ω—ñ –∑–º—ñ–Ω–Ω—ñ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π\n  const canAdjustGluten = selectedPits.length >= 2 && isAutoMode;\n  const canAdjustPercentages = selectedPits.length >= 2 && !isAutoMode;\n\n  return (\n    <div className={styles.calculator}>\n      {/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∑ –∫–Ω–æ–ø–∫–∞–º–∏ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó */}\n      <div className={styles.header}>\n        <button onClick={onBack} className={styles.backBtn}>\n          ‚Üê\n        </button>\n        <h2>LAB Calc</h2>\n        <button onClick={toggleMode} className={styles.modeBtn}>\n          {isAutoMode ? \"ü§ñ\" : \"‚úã\"}\n        </button>\n      </div>\n\n      {/* –¢–µ–º–Ω–∞ —Ç–∞–±–ª–∏—á–∫–∞ –∫–µ—Ä—É–≤–∞–Ω–Ω—è */}\n      <div className={styles.controlTable}>\n        {/* –†—è–¥–æ–∫ –∫–ª–µ–π–∫–æ–≤–∏–Ω–∏ */}\n        <div className={styles.glutenRow}>\n          <span className={styles.glutenLabel}>–ö–ª</span>\n          {isAutoMode ? (\n            <>\n              <button\n                onClick={() => adjustGluten(-0.1)}\n                className={styles.controlBtn}\n                disabled={!canDecreaseGluten()}\n              >\n                -\n              </button>\n              <span\n                className={`${styles.glutenValue} ${\n                  isGlutenErrorHigh() ? styles.errorValue : \"\"\n                }`}\n              >\n                {targetGluten?.toFixed(1) || \"0.0\"}%\n              </span>\n              <button\n                onClick={() => adjustGluten(0.1)}\n                className={styles.controlBtn}\n                disabled={!canIncreaseGluten()}\n              >\n                +\n              </button>\n            </>\n          ) : (\n            <>\n              <span className={styles.disabledBtn}>-</span>\n              <span className={styles.glutenValue}>\n                {targetGluten?.toFixed(1) || \"0.0\"}%\n              </span>\n              <span className={styles.disabledBtn}>+</span>\n            </>\n          )}\n          <div className={styles.modeLabel}>\n            {isAutoMode ? \"–ê–í–¢–û\" : \"–†–£–ß–ù\"}\n            {!isAutoMode && isOverLimit() && (\n              <div className={styles.totalPercentage}>\n                {getTotalPercentage()}%\n              </div>\n            )}\n          </div>\n\n          {/* –†–µ–∑—É–ª—å—Ç–∞—Ç —Å—É–º—ñ—à—ñ —Å–ø—Ä–∞–≤–∞ */}\n          {/* {selectedPits.length > 1 && (\n            <div className={styles.mixResult}>\n              W = {mixData.W || 0}%<br />\n              –ß–ü = {mixData.–ß–ü || 0}—Å<br />\n              K–ª = {mixData.K–ª || 0}% - {mixData.–í–î–ö || 0}–æ–¥.\n              <br />m = {mixData.m || 0}—Ç\n            </div>\n          )} */}\n        </div>\n\n        <div className={styles.mixInfo}>\n          <div className={styles.mixGrid}>\n            <div className={styles.mixItem}>\n              <span className={styles.mixLabel}>W:</span>\n              <span className={styles.mixValue}>{mixData.W || 0}%</span>\n            </div>\n            <div className={styles.mixItem}>\n              <span className={styles.mixLabel}>–ß–ü:</span>\n              <span className={styles.mixValue}>{mixData.–ß–ü || 0}—Å</span>\n            </div>\n            <div className={styles.mixItem}>\n              <span className={styles.mixLabel}>K–ª:</span>\n              <span className={styles.mixValue}>{mixData.K–ª || 0}%</span>\n            </div>\n            <div className={styles.mixItem}>\n              <span className={styles.mixLabel}>–í–î–ö:</span>\n              <span className={styles.mixValue}>{mixData.–í–î–ö || 0}–æ–¥.</span>\n            </div>\n            <div className={styles.mixItem}>\n              <span className={styles.mixLabel}>m:</span>\n              <span className={styles.mixValue}>{mixData.m || 0}—Ç</span>\n            </div>\n          </div>\n        </div>\n        {/* –§—ñ–ª—å—Ç—Ä–∏ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º—É */}\n        {isAutoMode && selectedPits.length > 2 && (\n          <div className={styles.filtersRow}>\n            <div className={styles.componentFilter}>\n              <label>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏:</label>\n              <select\n                value={componentFilter}\n                onChange={(e) => setComponentFilter(e.target.value)}\n                className={styles.filterSelect}\n              >\n                <option value=\"best\">–ù–∞–π–∫—Ä–∞—â–∏–π</option>\n                <option value=\"2-comp\">2-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ñ</option>\n                <option value=\"3-comp\">3-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ñ</option>\n                {selectedPits.length > 3 && (\n                  <option value=\"multi-comp\">–ë–∞–≥–∞—Ç–æ-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ñ</option>\n                )}\n              </select>\n            </div>\n\n            <div className={styles.resultsFilter}>\n              <label>–ü–æ–∫–∞–∑–∞—Ç–∏:</label>\n              <select\n                value={showTopResults ? \"top5\" : \"best\"}\n                onChange={(e) => setShowTopResults(e.target.value === \"top5\")}\n                className={styles.filterSelect}\n              >\n                <option value=\"best\">–ù–∞–π–∫—Ä–∞—â–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç</option>\n                <option value=\"top5\">–¢–æ–ø 5 –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤</option>\n              </select>\n            </div>\n          </div>\n        )}\n        {/* –†—è–¥–∫–∏ –¥–ª—è –∫–æ–∂–Ω–æ—ó –≤–∏–±—Ä–∞–Ω–æ—ó —è–º–∏ */}\n        {selectedPits\n          .filter((pit) => (percentages[pit.id] || 0) > 0)\n          .map((pit) => (\n            <div key={pit.id} className={styles.pitControlRow}>\n              <span className={styles.pitId}>{pit.id}</span>\n              {selectedPits.length === 1 ? (\n                <span className={styles.percentageFixed}>100%</span>\n              ) : isAutoMode ? (\n                // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Ä–µ–∂–∏–º - —Ç—ñ–ª—å–∫–∏ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤—ñ–¥—Å–æ—Ç–∫—ñ–≤\n                <span className={styles.percentageFixed}>\n                  {percentages[pit.id] || 0}%\n                </span>\n              ) : (\n                // –†—É—á–Ω–∏–π —Ä–µ–∂–∏–º - –∫–Ω–æ–ø–∫–∏ –∫–µ—Ä—É–≤–∞–Ω–Ω—è\n                <>\n                  <button\n                    onClick={() => adjustPercentageManual(pit.id, -10)}\n                    className={styles.controlBtn}\n                    disabled={!canDecreasePit(pit.id)}\n                  >\n                    -\n                  </button>\n                  <span\n                    className={`${styles.percentageValue} ${\n                      isOverLimit() ? styles.errorValue : \"\"\n                    }`}\n                  >\n                    {percentages[pit.id] || 0}%\n                  </span>\n                  <button\n                    onClick={() => adjustPercentageManual(pit.id, 10)}\n                    className={styles.controlBtn}\n                    disabled={!canIncreasePit(pit.id)}\n                  >\n                    +\n                  </button>\n                </>\n              )}\n            </div>\n          ))}\n      </div>\n\n      {/* –¢–æ–ø 5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ */}\n      {isAutoMode && showTopResults && topResults.length > 0 && (\n        <div className={styles.topResultsContainer}>\n          <h3 className={styles.topResultsTitle}>\n            –¢–æ–ø {topResults.length} –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤:\n          </h3>\n          {topResults.map((result, index) => (\n            <div\n              key={index}\n              className={`${styles.topResultItem} ${\n                index === 0 ? styles.selectedResult : \"\"\n              }`}\n              onClick={() => {\n                setPercentages(result.percentages);\n                setMixData(result.mixData);\n              }}\n            >\n              <div className={styles.resultHeader}>\n                <span className={styles.resultNumber}>#{index + 1}</span>\n                <span className={styles.componentCount}>\n                  {result.componentCount}-–∫–æ–º–ø\n                </span>\n              </div>\n              <div className={styles.resultData}>\n                <div className={styles.resultMix}>\n                  W = {result.mixData.W}% | –ß–ü = {result.mixData.–ß–ü}—Å | K–ª ={\" \"}\n                  {result.mixData.K–ª}% | m = {result.mixData.m}—Ç\n                </div>\n                <div className={styles.resultPercentages}>\n                  {Object.entries(result.percentages)\n                    .filter(([_, perc]) => perc > 0)\n                    .map(([pitId, perc]) => `${pitId}:${perc}%`)\n                    .join(\", \")}\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* –ë–ª–æ–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É —Å—É–º—ñ—à—ñ (—Ç—ñ–ª—å–∫–∏ –¥–ª—è 1 —è–º–∏) */}\n\n      {/* <div className={styles.mixDisplay}>\n        <div className={styles.mixInfo}>\n          <div>W = {mixData.W || 0}%</div>\n          <div>–ß–ü = {mixData.–ß–ü || 0}—Å</div>\n          <div>\n            K–ª = {mixData.K–ª || 0}% - {mixData.–í–î–ö || 0}–æ–¥.\n          </div>\n          <div>m = {mixData.m || 0}—Ç</div>\n        </div>\n      </div> */}\n\n      {/* –°—ñ—Ç–∫–∞ –≤—Å—ñ—Ö —è–º */}\n      <div className={styles.pitsGrid}>\n        {allPits.map((pit) => {\n          const isSelected = selectedPits.some((p) => p.id === pit.id);\n\n          return (\n            <div key={pit.id} className={styles.pitContainer}>\n              <PitCard\n                pit={pit}\n                isSelected={isSelected}\n                onSelect={onPitSelect}\n                mode=\"view\"\n              />\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default Calculator;\n","import React, { useState, useEffect } from \"react\";\nimport styles from \"./EditModal.module.css\";\n\nconst EditModal = ({ pit, isOpen, onClose, onSave }) => {\n  const [formData, setFormData] = useState({\n    —Å–∏–ª–æ—Å: 2,\n    W: 15.6,\n    –ß–ü: 360,\n    K–ª: 22.0,\n    –í–î–ö: 80,\n    m: 10.0,\n    –¥–∞—Ç–∞: new Date().toLocaleDateString(\"uk-UA\"),\n  });\n\n  useEffect(() => {\n    if (pit && isOpen) {\n      setFormData({\n        —Å–∏–ª–æ—Å: pit.—Å–∏–ª–æ—Å || 2,\n        W: pit.W || 15.6,\n        –ß–ü: pit.–ß–ü || 360,\n        K–ª: pit.K–ª || 22.0,\n        –í–î–ö: pit.–í–î–ö || 80,\n        m: pit.m || 10.0,\n        –¥–∞—Ç–∞: pit.–¥–∞—Ç–∞ || new Date().toLocaleDateString(\"uk-UA\"),\n      });\n    }\n  }, [pit, isOpen]);\n\n  const handleInputChange = (field, value) => {\n    setFormData((prev) => ({\n      ...prev,\n      [field]: value,\n    }));\n  };\n\n  const handleSave = () => {\n    const updatedPit = {\n      ...pit,\n      ...formData,\n    };\n    onSave(updatedPit);\n    onClose();\n  };\n\n  const handleClear = () => {\n    const clearedPit = {\n      ...pit,\n      —Å–∏–ª–æ—Å: null,\n      W: null,\n      –ß–ü: null,\n      K–ª: null,\n      –í–î–ö: null,\n      m: null,\n    };\n    onSave(clearedPit);\n    onClose();\n  };\n\n  if (!isOpen || !pit) return null;\n\n  return (\n    <div className={styles.modalOverlay} onClick={onClose}>\n      <div className={styles.modal} onClick={(e) => e.stopPropagation()}>\n        <div className={styles.modalHeader}>\n          <button onClick={onClose} className={styles.backBtn}>\n            ‚Üê\n          </button>\n          <h3>{pit.id}</h3>\n          <div></div>\n        </div>\n\n        <div className={styles.formFields}>\n          <div className={styles.field}>\n            <label>–°–∏–ª–æ—Å</label>\n            <select\n              value={formData.—Å–∏–ª–æ—Å || 2}\n              onChange={(e) =>\n                handleInputChange(\"—Å–∏–ª–æ—Å\", parseInt(e.target.value))\n              }\n              className={styles.select}\n            >\n              <option value={1}>1</option>\n              <option value={2}>2</option>\n              <option value={3}>3</option>\n            </select>\n          </div>\n\n          <div className={styles.field}>\n            <label>W</label>\n            <input\n              type=\"number\"\n              step=\"0.1\"\n              value={formData.W || \"\"}\n              onChange={(e) =>\n                handleInputChange(\"W\", parseFloat(e.target.value) || null)\n              }\n              className={styles.input}\n            />\n          </div>\n\n          <div className={styles.field}>\n            <label>–ß–ü</label>\n            <input\n              type=\"number\"\n              step=\"1\"\n              value={formData.–ß–ü || \"\"}\n              onChange={(e) =>\n                handleInputChange(\"–ß–ü\", parseInt(e.target.value) || null)\n              }\n              className={styles.input}\n            />\n          </div>\n\n          <div className={styles.field}>\n            <label>K–ª</label>\n            <input\n              type=\"number\"\n              step=\"0.1\"\n              value={formData.K–ª || \"\"}\n              onChange={(e) =>\n                handleInputChange(\"K–ª\", parseFloat(e.target.value) || null)\n              }\n              className={styles.input}\n            />\n          </div>\n\n          <div className={styles.field}>\n            <label>–í–î–ö</label>\n            <input\n              type=\"number\"\n              step=\"1\"\n              value={formData.–í–î–ö || \"\"}\n              onChange={(e) =>\n                handleInputChange(\"–í–î–ö\", parseInt(e.target.value) || null)\n              }\n              className={styles.input}\n            />\n          </div>\n\n          <div className={styles.field}>\n            <label>m</label>\n            <input\n              type=\"number\"\n              step=\"0.1\"\n              value={formData.m || \"\"}\n              onChange={(e) =>\n                handleInputChange(\"m\", parseFloat(e.target.value) || null)\n              }\n              className={styles.input}\n            />\n          </div>\n\n          <div className={styles.field}>\n            <label>–¥–∞—Ç–∞</label>\n            <input\n              type=\"text\"\n              value={formData.–¥–∞—Ç–∞ || \"\"}\n              onChange={(e) => handleInputChange(\"–¥–∞—Ç–∞\", e.target.value)}\n              className={styles.input}\n            />\n          </div>\n        </div>\n\n        <div className={styles.modalActions}>\n          <button onClick={handleClear} className={styles.clearBtn}>\n            –û—á–∏—Å—Ç–∏—Ç–∏\n          </button>\n          <button onClick={handleSave} className={styles.saveBtn}>\n            –ó–±–µ—Ä–µ–≥—Ç–∏\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default EditModal;\n","import React, { useState } from \"react\";\nimport PitCard from \"../PitCard/PitCard\";\nimport EditModal from \"../EditModal/EditModal\";\nimport styles from \"./SelectMode.module.css\";\n\nconst SelectMode = ({ pits, onBack, onSave }) => {\n  const [editingPit, setEditingPit] = useState(null);\n  const [localPits, setLocalPits] = useState(pits);\n\n  const handleSavePit = async (updatedPit) => {\n    const newPits = localPits.map((p) =>\n      p.id === updatedPit.id ? updatedPit : p\n    );\n\n    setLocalPits(newPits);\n\n    // –ü–µ—Ä–µ–¥–∞—î–º–æ –≤—Å—ñ —è–º–∏ (–≤–∫–ª—é—á–Ω–æ –∑ –ø–æ—Ä–æ–∂–Ω—ñ–º–∏) –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å—Ç–∞–Ω—É\n    // –∞–ª–µ –≤ onSave –±—É–¥–µ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –¥–ª—è –±–µ–∫–µ–Ω–¥—É\n    await onSave(newPits);\n  };\n\n  const handleEditPit = (pit) => {\n    setEditingPit(pit);\n  };\n\n  const handleCloseModal = () => {\n    setEditingPit(null);\n  };\n\n  return (\n    <div className={styles.selectMode}>\n      <div className={styles.header}>\n        <button onClick={onBack} className={styles.backBtn}>\n          ‚Üê\n        </button>\n        <h2>–í–Ω–µ—Å—Ç–∏ –∑–º—ñ–Ω–∏</h2>\n        <div></div>\n      </div>\n\n      <div className={styles.pitsGrid}>\n        {localPits.map((pit) => (\n          <PitCard\n            key={pit.id}\n            pit={pit}\n            isSelected={false}\n            onSelect={() => {}}\n            onEdit={handleEditPit}\n            mode=\"select\"\n          />\n        ))}\n      </div>\n\n      <EditModal\n        pit={editingPit}\n        isOpen={!!editingPit}\n        onClose={handleCloseModal}\n        onSave={handleSavePit}\n      />\n    </div>\n  );\n};\n\nexport default SelectMode;\n","import { useState, useCallback } from \"react\";\n\nconst API_URL =\n  \"https://script.google.com/macros/s/AKfycbyb3E1Nuc9giNSY0zuhu7hcPYGWILYoO7X8X0DWG9DTASEzfIWmKM4JxS4FwzdyGwKS/exec\";\n\nexport const useApi = () => {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const loadData = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ GET –∑–∞–ø–∏—Ç –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö\n      const response = await fetch(API_URL, {\n        method: \"GET\",\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const data = await response.json();\n\n      if (data.error) {\n        throw new Error(data.error);\n      }\n\n      return data;\n    } catch (err) {\n      setError(err.message);\n      console.error(\"–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö:\", err);\n      return null;\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  const saveData = useCallback(async (data) => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      const payload = {\n        ...data,\n        last: new Date().toISOString(),\n        modified: new Date().toISOString(),\n      };\n\n      // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ GET –∑–∞–ø–∏—Ç –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º data\n      const params = new URLSearchParams({\n        data: JSON.stringify(payload),\n      });\n\n      const response = await fetch(`${API_URL}?${params}`, {\n        method: \"GET\",\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const result = await response.json();\n\n      if (result.error) {\n        throw new Error(result.error);\n      }\n\n      return result;\n    } catch (err) {\n      setError(err.message);\n      console.error(\"–ü–æ–º–∏–ª–∫–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö:\", err);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∏–π –º–µ—Ç–æ–¥ —á–µ—Ä–µ–∑ JSONP (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)\n  const loadDataJSONP = useCallback(() => {\n    return new Promise((resolve, reject) => {\n      const callbackName = \"apiCallback_\" + Date.now();\n      const script = document.createElement(\"script\");\n\n      // –ì–ª–æ–±–∞–ª—å–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è –¥–ª—è –æ–±—Ä–æ–±–∫–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ\n      window[callbackName] = function (data) {\n        resolve(data);\n        delete window[callbackName];\n        document.head.removeChild(script);\n      };\n\n      script.onerror = function () {\n        reject(new Error(\"JSONP request failed\"));\n        delete window[callbackName];\n        document.head.removeChild(script);\n      };\n\n      script.src = `${API_URL}?callback=${callbackName}`;\n      document.head.appendChild(script);\n    });\n  }, []);\n\n  return {\n    loading,\n    error,\n    loadData,\n    saveData,\n    loadDataJSONP,\n  };\n};\n","/**\n * –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ —Å—É–º—ñ—à—ñ –Ω–∞ –æ—Å–Ω–æ–≤—ñ –≤–∏–±—Ä–∞–Ω–∏—Ö —è–º —Ç–∞ –≤—ñ–¥—Å–æ—Ç–∫—ñ–≤\n */\nexport const calculateMixture = (selectedPits, percentages) => {\n  const totalPerc = Object.values(percentages).reduce(\n    (sum, p) => sum + (p || 0),\n    0\n  );\n\n  if (totalPerc === 0) {\n    return { W: 0, –ß–ü: 0, K–ª: 0, –í–î–ö: 0, m: 0 };\n  }\n\n  let mixW = 0,\n    mix–ß–ü = 0,\n    mixK–ª = 0,\n    mix–í–î–ö = 0,\n    maxMass = Infinity;\n\n  selectedPits.forEach((pit) => {\n    const perc = percentages[pit.id] || 0;\n    if (perc > 0) {\n      const factor = perc / 100;\n\n      mixW += (parseFloat(pit.W) || 0) * factor;\n      mix–ß–ü += (parseFloat(pit.–ß–ü) || 0) * factor;\n      mixK–ª += (parseFloat(pit.K–ª) || 0) * factor;\n      mix–í–î–ö += (parseFloat(pit.–í–î–ö) || 0) * factor;\n\n      const pitMass = parseFloat(pit.m) || 0;\n      if (pitMass > 0) {\n        const maxFromPit = pitMass / factor;\n        maxMass = Math.min(maxMass, maxFromPit);\n      }\n    }\n  });\n\n  return {\n    W: Math.round(mixW * 10) / 10,\n    –ß–ü: Math.round(mix–ß–ü),\n    K–ª: Math.round(mixK–ª * 10) / 10,\n    –í–î–ö: Math.round(mix–í–î–ö),\n    m: maxMass === Infinity ? 0 : Math.round(maxMass * 10) / 10,\n  };\n};\n\n/**\n * –ù–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è –≤—ñ–¥—Å–æ—Ç–∫—ñ–≤ –¥–æ 100% –∑ –∫—Ä–∞—Ç–Ω—ñ—Å—Ç—é 10\n */\nexport const normalizePercentages = (percentages) => {\n  const total = Object.values(percentages).reduce(\n    (sum, p) => sum + (p || 0),\n    0\n  );\n\n  if (total === 0) return percentages;\n  if (total === 100) return percentages;\n\n  const normalized = {};\n\n  // –°–ø–æ—á–∞—Ç–∫—É –æ–∫—Ä—É–≥–ª—é—î–º–æ –∫–æ–∂–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è –¥–æ –∫—Ä–∞—Ç–Ω–æ–≥–æ 10\n  Object.keys(percentages).forEach((id) => {\n    const value = ((percentages[id] || 0) / total) * 100;\n    normalized[id] = Math.round(value / 10) * 10;\n  });\n\n  // –ö–æ—Ä–µ–∫—Ü—ñ—è –¥–ª—è —Ç–æ—á–Ω–æ—ó —Å—É–º–∏ 100%\n  const newTotal = Object.values(normalized).reduce(\n    (sum, p) => sum + (p || 0),\n    0\n  );\n  if (newTotal !== 100) {\n    const diff = 100 - newTotal;\n    const firstNonZeroKey = Object.keys(normalized).find(\n      (id) => normalized[id] > 0\n    );\n    if (firstNonZeroKey) {\n      normalized[firstNonZeroKey] += diff;\n      // –ü–µ—Ä–µ–∫–æ–Ω—É—î–º–æ—Å—è —â–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫—Ä–∞—Ç–Ω–∏–π 10\n      normalized[firstNonZeroKey] = Math.max(\n        0,\n        Math.round(normalized[firstNonZeroKey] / 10) * 10\n      );\n    }\n  }\n\n  return normalized;\n};\n\n/**\n * –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ —Å–ø—ñ–≤–≤—ñ–¥–Ω–æ—à–µ–Ω–Ω—è –¥–ª—è –¥–≤–æ—Ö —è–º\n */\nexport const calculateOptimalRatio = (pit1, pit2, targetGluten) => {\n  const g1 = parseFloat(pit1.K–ª);\n  const g2 = parseFloat(pit2.K–ª);\n\n  if (g1 === g2) {\n    return { [pit1.id]: 50, [pit2.id]: 50 };\n  }\n\n  const p1 = ((targetGluten - g2) / (g1 - g2)) * 100;\n  const p2 = 100 - p1;\n\n  return {\n    [pit1.id]: Math.max(0, Math.min(100, Math.round(p1))),\n    [pit2.id]: Math.max(0, Math.min(100, Math.round(p2))),\n  };\n};\n\n/**\n * –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–∞–ª—ñ–¥–Ω–æ—Å—Ç—ñ –∑–Ω–∞—á–µ–Ω—å —è–º–∏\n */\nexport const isValidPit = (pit) => {\n  return (\n    pit &&\n    pit.W !== null &&\n    pit.W !== undefined &&\n    pit.K–ª !== null &&\n    pit.K–ª !== undefined &&\n    pit.—Å–∏–ª–æ—Å !== null &&\n    pit.—Å–∏–ª–æ—Å !== undefined\n  );\n};\n\n/**\n * –û—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–æ–ª—å–æ—Ä—É —è–º–∏ –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Å–∏–ª–æ—Å—É —Ç–∞ –∫–ª–µ–π–∫–æ–≤–∏–Ω–∏\n */\nexport const getPitColor = (pit) => {\n  if (!isValidPit(pit)) return \"var(--color-empty)\";\n\n  if (pit.—Å–∏–ª–æ—Å === 1) return \"var(--color-silo-1)\";\n  if (pit.—Å–∏–ª–æ—Å === 2) return \"var(--color-silo-2)\";\n  if (pit.—Å–∏–ª–æ—Å === 3) {\n    return parseFloat(pit.K–ª) > 23\n      ? \"var(--color-silo-3-high)\"\n      : \"var(--color-silo-3-low)\";\n  }\n\n  return \"var(--color-empty)\";\n};\n\n/**\n * –§–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –∑–Ω–∞—á–µ–Ω—å –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è\n */\nexport const formatValue = (value, unit = \"\") => {\n  if (value === null || value === undefined || value === \"\") return \"-\";\n  return `${value}${unit}`;\n};\n","// API –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è\nexport const API_CONFIG = {\n  URL: \"https://script.google.com/macros/s/AKfycbxAcsIMFSDcEPJuHQfMSedSavl_IgO5KO2JM_Vt9koY5Xt3MEul5F-RwUynXLKGUIaW/exec\",\n  TIMEOUT: 10000, // 10 —Å–µ–∫—É–Ω–¥\n  RETRY_ATTEMPTS: 3,\n};\n\n// –ö–æ–ª—å–æ—Ä–∏ —Å–∏–ª–æ—Å—ñ–≤\nexport const SILO_COLORS = {\n  1: \"#FBE393\",\n  2: \"#9CFB93\",\n  3: {\n    HIGH_GLUTEN: \"#9CFB93\", // > 23%\n    LOW_GLUTEN: \"#FBE393\", // ‚â§ 23%\n  },\n  EMPTY: \"#B0B0B0\",\n};\n\n// –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –¥–ª—è –Ω–æ–≤–∏—Ö —è–º\nexport const DEFAULT_PIT_VALUES = {\n  —Å–∏–ª–æ—Å: 1,\n  W: 15.5,\n  –ß–ü: 350,\n  K–ª: 22.0,\n  –í–î–ö: 80,\n  m: 10.0,\n  –¥–∞—Ç–∞: () => new Date().toLocaleDateString(\"uk-UA\"),\n};\n\n// –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —è–º\nexport const PIT_CONFIG = {\n  TOTAL_PITS: 6,\n  PITS_PER_ROW: 2,\n  GLUTEN_THRESHOLD: 23, // –ü–æ—Ä—ñ–≥ –∫–ª–µ–π–∫–æ–≤–∏–Ω–∏ –¥–ª—è 3 —Å–∏–ª–æ—Å—É\n  PERCENTAGE_STEP: 10, // –ö—Ä–æ–∫ –∑–º—ñ–Ω–∏ –≤—ñ–¥—Å–æ—Ç–∫—ñ–≤\n  GLUTEN_STEP: 0.1, // –ö—Ä–æ–∫ –∑–º—ñ–Ω–∏ –∫–ª–µ–π–∫–æ–≤–∏–Ω–∏\n};\n\n// ID —è–º\nexport const PIT_IDS = [\n  \"1\",\n  \"1a\",\n  \"2\",\n  \"2a\",\n  \"3\",\n  \"3a\",\n  \"4\",\n  \"4a\",\n  \"5\",\n  \"5a\",\n  \"6\",\n  \"6a\",\n];\n\n// –†–µ–∂–∏–º–∏ —Ä–æ–±–æ—Ç–∏ –¥–æ–¥–∞—Ç–∫–∞\nexport const APP_MODES = {\n  MAIN: \"main\",\n  CALCULATOR: \"calc\",\n  SELECT: \"select\",\n};\n\n// –í–∞–ª—ñ–¥–∞—Ü—ñ–π–Ω—ñ –ø—Ä–∞–≤–∏–ª–∞\nexport const VALIDATION_RULES = {\n  W: { min: 0, max: 30, step: 0.1 },\n  –ß–ü: { min: 200, max: 800, step: 1 },\n  K–ª: { min: 10, max: 40, step: 0.1 },\n  –í–î–ö: { min: 50, max: 150, step: 1 },\n  m: { min: 0, max: 1000, step: 0.1 },\n  —Å–∏–ª–æ—Å: { values: [1, 2, 3] },\n};\n\n// –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏\nexport const ERROR_MESSAGES = {\n  NETWORK_ERROR: \"–ü–æ–º–∏–ª–∫–∞ –º–µ—Ä–µ–∂—ñ. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—É.\",\n  API_ERROR: \"–ü–æ–º–∏–ª–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞. –°–ø—Ä–æ–±—É–π—Ç–µ –ø—ñ–∑–Ω—ñ—à–µ.\",\n  VALIDATION_ERROR: \"–ù–µ–∫–æ—Ä–µ–∫—Ç–Ω—ñ –¥–∞–Ω—ñ. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤–≤–µ–¥–µ–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è.\",\n  SAVE_ERROR: \"–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–±–µ—Ä–µ–≥—Ç–∏ –¥–∞–Ω—ñ. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑.\",\n  LOAD_ERROR:\n    \"–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –¥–∞–Ω—ñ. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º.\",\n  EMPTY_SELECTION: \"–í–∏–±–µ—Ä—ñ—Ç—å –ø—Ä–∏–Ω–∞–π–º–Ω—ñ –æ–¥–Ω—É —è–º—É –¥–ª—è —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É.\",\n  INVALID_GLUTEN: \"–ù–µ–∫–æ—Ä–µ–∫—Ç–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è –∫–ª–µ–π–∫–æ–≤–∏–Ω–∏.\",\n};\n\n// –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É\nexport const UI_CONFIG = {\n  ANIMATION_DURATION: 200,\n  DEBOUNCE_DELAY: 300,\n  MOBILE_BREAKPOINT: 480,\n  MODAL_Z_INDEX: 1000,\n};\n\n// –õ–æ–∫–∞–ª—ñ–∑–∞—Ü—ñ—è\nexport const LOCALE_CONFIG = {\n  LANGUAGE: \"uk-UA\",\n  DATE_FORMAT: \"DD.MM.YYYY\",\n  NUMBER_FORMAT: {\n    maximumFractionDigits: 1,\n    minimumFractionDigits: 0,\n  },\n};\n","import React, { useState, useEffect } from \"react\";\nimport PitCard from \"./components/PitCard/PitCard\";\nimport Calculator from \"./components/Calculator/Calculator\";\nimport SelectMode from \"./components/SelectMode/SelectMode\";\nimport { useApi } from \"./hooks/useApi\";\nimport { isValidPit } from \"./utils/calculations\";\nimport { PIT_IDS, APP_MODES, DEFAULT_PIT_VALUES } from \"./utils/constants\";\nimport \"./styles/variables.css\";\nimport \"./styles/globals.css\";\nimport styles from \"./styles/App.module.css\";\n\nconst App = () => {\n  const [pits, setPits] = useState([]);\n  const [selectedPits, setSelectedPits] = useState([]);\n  const [mode, setMode] = useState(APP_MODES.MAIN);\n  const { loading, error, loadData, saveData } = useApi();\n\n  useEffect(() => {\n    initializeApp();\n  }, []);\n\n  const initializeApp = async () => {\n    const data = await loadData();\n\n    // –ó–∞–≤–∂–¥–∏ —Å—Ç–≤–æ—Ä—é—î–º–æ –≤—Å—ñ 6 —è–º\n    const allPits = PIT_IDS.map((id) => ({\n      id,\n      —Å–∏–ª–æ—Å: null,\n      W: null,\n      –ß–ü: null,\n      K–ª: null,\n      –í–î–ö: null,\n      m: null,\n      –¥–∞—Ç–∞: DEFAULT_PIT_VALUES.–¥–∞—Ç–∞(),\n    }));\n\n    // –Ø–∫—â–æ —î –¥–∞–Ω—ñ –∑ –±–µ–∫–µ–Ω–¥—É, –æ–Ω–æ–≤–ª—é—î–º–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ —è–º–∏\n    if (data && data.pits && Array.isArray(data.pits)) {\n      data.pits.forEach((backendPit) => {\n        const index = allPits.findIndex((pit) => pit.id === backendPit.id);\n        if (index !== -1) {\n          allPits[index] = { ...allPits[index], ...backendPit };\n        }\n      });\n    }\n\n    setPits(allPits);\n  };\n\n  const handleSaveData = async (newPits) => {\n    try {\n      // –§—ñ–ª—å—Ç—Ä—É—î–º–æ —Ç—ñ–ª—å–∫–∏ –∑–∞–ø–æ–≤–Ω–µ–Ω—ñ —è–º–∏ –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –Ω–∞ –±–µ–∫–µ–Ω–¥—ñ\n      const filledPits = newPits.filter((pit) => isValidPit(pit));\n\n      await saveData({ pits: filledPits });\n\n      // –ê–ª–µ –ª–æ–∫–∞–ª—å–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—î–º–æ –≤—Å—ñ —è–º–∏ (–≤–∫–ª—é—á–Ω–æ –∑ –ø–æ—Ä–æ–∂–Ω—ñ–º–∏)\n      setPits(newPits);\n    } catch (err) {\n      console.error(\"–ü–æ–º–∏–ª–∫–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è:\", err);\n      // –ü–æ–∫–∞–∑–∞—Ç–∏ –ø–æ–º–∏–ª–∫—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É (–º–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ toast notifications)\n    }\n  };\n\n  const handlePitSelect = (pit) => {\n    if (!isValidPit(pit)) return;\n\n    setSelectedPits((prev) => {\n      const isSelected = prev.some((p) => p.id === pit.id);\n      let newSelection;\n\n      if (isSelected) {\n        newSelection = prev.filter((p) => p.id !== pit.id);\n      } else {\n        newSelection = [...prev, pit];\n      }\n\n      // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏–º–æ –≤ —Ä–µ–∂–∏–º –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ –ø—Ä–∏ –≤–∏–±–æ—Ä—ñ —è–º\n      // –∞–ª–µ —è–º–∏ –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è –≤–∏–¥–∏–º–∏–º–∏\n      if (newSelection.length > 0) {\n        setMode(APP_MODES.CALCULATOR);\n      } else {\n        setMode(APP_MODES.MAIN);\n      }\n\n      return newSelection;\n    });\n  };\n\n  const startCalculation = () => {\n    // –§—É–Ω–∫—Ü—ñ—è –≤–∏–¥–∞–ª–µ–Ω–∞ - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –ø–µ—Ä–µ—Ö—ñ–¥ –ø—Ä–∏ –≤–∏–±–æ—Ä—ñ —è–º\n  };\n\n  const handleBackToMain = () => {\n    setMode(APP_MODES.MAIN);\n    setSelectedPits([]); // –û—á–∏—â–∞—î–º–æ –≤–∏–±—ñ—Ä –ø—Ä–∏ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—ñ\n  };\n\n  const openSelectMode = () => {\n    setMode(APP_MODES.SELECT);\n  };\n\n  if (loading && pits.length === 0) {\n    return (\n      <div className={styles.loading}>\n        <div className=\"loading-spinner\"></div>\n        <span>–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</span>\n      </div>\n    );\n  }\n\n  if (mode === APP_MODES.CALCULATOR) {\n    return (\n      <Calculator\n        selectedPits={selectedPits}\n        allPits={pits}\n        onPitSelect={handlePitSelect}\n        onBack={handleBackToMain}\n      />\n    );\n  }\n\n  if (mode === APP_MODES.SELECT) {\n    return (\n      <SelectMode\n        pits={pits}\n        onBack={handleBackToMain}\n        onSave={handleSaveData}\n      />\n    );\n  }\n\n  return (\n    <div className={styles.app}>\n      <div className={styles.header}>\n        <h1>LAB Calc</h1>\n        <button\n          onClick={openSelectMode}\n          className={styles.editBtn}\n          aria-label=\"–†–µ–¥–∞–≥—É–≤–∞—Ç–∏ —è–º–∏\"\n        >\n          ‚úèÔ∏è\n        </button>\n      </div>\n\n      {error && <div className={styles.errorMessage}>{error}</div>}\n\n      <div className={styles.pitsGrid}>\n        {pits.map((pit) => (\n          <PitCard\n            key={pit.id}\n            pit={pit}\n            isSelected={selectedPits.some((p) => p.id === pit.id)}\n            onSelect={handlePitSelect}\n            mode=\"view\"\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport App from \"./App\";\n\n// –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ –±—Ä–∞—É–∑–µ—Ä–∞\nif (!window.fetch) {\n  console.error(\"–í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î fetch API. –û–Ω–æ–≤—ñ—Ç—å –±—Ä–∞—É–∑–µ—Ä.\");\n}\n\n// –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫\nwindow.addEventListener(\"error\", (event) => {\n  console.error(\"–ì–ª–æ–±–∞–ª—å–Ω–∞ –ø–æ–º–∏–ª–∫–∞:\", event.error);\n});\n\nwindow.addEventListener(\"unhandledrejection\", (event) => {\n  console.error(\"–ù–µ–æ–±—Ä–æ–±–ª–µ–Ω–∏–π –ø—Ä–æ–º–∏—Å:\", event.reason);\n});\n\n// Service Worker (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)\nif (\"serviceWorker\" in navigator && process.env.NODE_ENV === \"production\") {\n  window.addEventListener(\"load\", () => {\n    navigator.serviceWorker\n      .register(\"/sw.js\")\n      .then((registration) => {\n        console.log(\"SW registered: \", registration);\n      })\n      .catch((registrationError) => {\n        console.log(\"SW registration failed: \", registrationError);\n      });\n  });\n}\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\n\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n"],"names":["f","require$$0","k","l","m","n","p","q","c","a","g","b","d","e","h","reactJsxRuntime_production_min","jsxRuntimeModule","client","PitCard","pit","isSelected","onSelect","onEdit","mode","getPitColor","formatValue","value","unit","handleClick","handleCheckboxChange","jsxs","styles","jsx","Calculator","selectedPits","onBack","allPits","onPitSelect","targetGluten","setTargetGluten","useState","percentages","setPercentages","mixData","setMixData","isAutoMode","setIsAutoMode","savedTargetGluten","setSavedTargetGluten","componentFilter","setComponentFilter","showTopResults","setShowTopResults","topResults","setTopResults","useEffect","savedGluten","initializeAutoMode","initializeManualMode","glutenValues","v","minGluten","maxGluten","targetValue","results","optimizeForTargetGluten","calculateMixFromPercentages","initialPercentages","equalShare","remaining","index","share","updateTargetFromPercentages","pits","TARGET_FALLING_NUMBER","pit1","pit2","g1","g2","p1","p2","bestCombinations","bestGlutenError","getComponentCount","passesComponentFilter","componentCount","generateAllCombinations","pitIndex","currentPercentages","remainingPerc","nonZeroCount","mixW","mix–ß–ü","mixGluten","mix–í–î–ö","mixM","totalWeight","perc","weight","maxFromPit","glutenError","fallingNumberError","mixDataObj","currentPit","startTime","endTime","acc","top5","combo","bestCombo","percs","sum","mixK–ª","maxMass","factor","totalPerc","calculatedGluten","adjustGluten","delta","newTarget","roundedTarget","adjustPercentageManual","pitId","newPercentages","newPerc","toggleMode","canDecreaseGluten","canIncreaseGluten","canDecreasePit","canIncreasePit","getTotalPercentage","isOverLimit","getGlutenError","isGlutenErrorHigh","Fragment","result","_","EditModal","isOpen","onClose","onSave","formData","setFormData","handleInputChange","field","prev","handleSave","updatedPit","handleClear","clearedPit","SelectMode","editingPit","setEditingPit","localPits","setLocalPits","handleSavePit","newPits","handleEditPit","handleCloseModal","API_URL","useApi","loading","setLoading","error","setError","loadData","useCallback","response","data","err","saveData","payload","params","loadDataJSONP","resolve","reject","callbackName","script","isValidPit","DEFAULT_PIT_VALUES","PIT_IDS","APP_MODES","App","setPits","setSelectedPits","setMode","initializeApp","id","backendPit","handleSaveData","filledPits","handlePitSelect","newSelection","handleBackToMain","openSelectMode","event","registration","registrationError","root","ReactDOM","React"],"mappings":"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","x_google_ignoreList":[0,1,2]}